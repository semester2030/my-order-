export type Lang = 'ar' | 'en'

export const translations = {
  ar: {
    // عام
    appName: 'لوحة مقدم الخدمة',
    logout: 'تسجيل الخروج',
    search: 'بحث الطلبات والمنيو...',
    vendor: 'مقدم الخدمة',

    // القائمة الجانبية
    nav: {
      dashboard: 'لوحة التحكم',
      orders: 'الطلبات',
      menu: 'الوجبات والخدمات',
      offerableServices: 'ما أقدمه للزبائن',
      sideOrders: 'الطلبات الجانبية',
      staff: 'الموظفون',
      analytics: 'التحليلات',
      settings: 'الإعدادات',
    },

    // لوحة التحكم
    dashboard: {
      title: 'لوحة التحكم',
      subtitle: 'نظرة على أداء منشأتك',
      totalRevenue: 'إجمالي الإيرادات',
      totalOrders: 'إجمالي الطلبات',
      pendingOrders: 'طلبات قيد الانتظار',
      avgOrderValue: 'متوسط قيمة الطلب',
      preparing: 'قيد التحضير',
      ready: 'جاهز للتسليم',
      performance: 'الأداء',
      viewAnalytics: 'عرض التحليلات',
    },

    // تسجيل الدخول
    login: {
      title: 'تسجيل الدخول',
      subtitle: 'ادخل لإدارة منشأتك',
      email: 'البريد الإلكتروني',
      password: 'كلمة المرور',
      submit: 'دخول',
      signingIn: 'جاري الدخول...',
      registering: 'تم التسجيل بنجاح',
      pendingApproval: 'حسابك بانتظار الموافقة. سنعلمك عند الاعتماد.',
      noAccount: 'ليس لديك حساب؟',
      register: 'التسجيل',
      invalidEmail: 'بريد إلكتروني غير صالح',
      passwordMin: 'كلمة المرور 6 أحرف على الأقل',
      loginFailed: 'فشل تسجيل الدخول. حاول مرة أخرى.',
    },

    // التسجيل
    register: {
      title: 'تسجيل مقدم الخدمة',
      subtitle: 'الضروري فقط: الاسم، الإيميل، كلمة المرور. الباقي يمكن إكماله لاحقاً.',
      requiredData: 'البيانات الضرورية',
      name: 'الاسم (مقدم الخدمة / المنشأة)',
      email: 'البريد الإلكتروني',
      password: 'كلمة المرور',
      confirmPassword: 'تأكيد كلمة المرور',
      phoneOptional: 'رقم الجوال (اختياري)',
      categoryOptional: 'فئة الخدمة (اختياري)',
      categoryPlaceholder: '— اختر فئة الخدمة (اختياري) —',
      categoryHomeCooking: 'الطبخ المنزلي',
      categoryPopularCooking: 'الطبخ الشعبي (ذبايح)',
      categoryPrivateEvents: 'المناسبات الخاصة (بوفيه)',
      categoryGrilling: 'الشوي',
      addOptional: 'إضافة بيانات اختيارية (عنوان، مدينة، مالك، إلخ)',
      hideOptional: 'إخفاء البيانات الاختيارية',
      submit: 'تسجيل مقدم الخدمة',
      submitting: 'جاري التسجيل...',
      haveAccount: 'لديك حساب؟',
      signIn: 'تسجيل الدخول',
      registerFailed: 'فشل التسجيل. حاول مرة أخرى.',
      tradeName: 'الاسم التجاري',
      establishmentType: 'نوع المنشأة',
      description: 'الوصف',
      address: 'العنوان',
      city: 'المدينة',
      ownerName: 'اسم المالك',
      ownerPhone: 'جوال المالك',
      optionalNote: 'يمكنك إكمال باقي البيانات (سجل تجاري، موقع، بنك، إلخ) لاحقاً من لوحة التحكم.',
      typePremiumCasual: 'مطعم عائلي',
      typeFineDining: 'مطعم فاخر',
      typeFastFood: 'وجبات سريعة',
      typeCafe: 'مقهى',
      typeBakery: 'مخبز',
      typeFoodTruck: 'عربة طعام',
      nameMin: 'الاسم يجب أن يكون حرفين على الأقل',
      invalidEmail: 'بريد إلكتروني غير صالح',
      passwordMin: 'كلمة المرور 8 أحرف على الأقل',
      passwordPattern: 'كلمة المرور: حرف صغير، حرف كبير، ورقم',
      passwordMismatch: 'كلمة المرور غير متطابقة',
      invalidUrl: 'رابط غير صالح',
      // خدمات إضافية للطبخ الشعبي (في التسجيل)
      popularCookingAddOnsTitle: 'خدمات إضافية (جريش، قرصان، ادامات…)',
      popularCookingAddOnsHint: 'أضف الأطباق الجانبية التي تقدمها مع الوليمة وكل واحدة لها سعر خاص. تظهر للعميل لطلبها إن أراد.',
      addAddOn: 'إضافة خدمة/طبق جانبي',
      addOnName: 'اسم الخدمة (مثل: جريش، قرصان، ادامات)',
      addOnPrice: 'السعر',
      removeAddOn: 'حذف',
    },

    // صفحة "ما أقدمه للزبائن" — مرتبطة بشاشة طلب طباخة في التطبيق (بدون فيديو)
    sideOrdersPage: {
      title: 'الطلبات الجانبية',
      subtitle: 'جريش، قرصان، ادامات وغيرها — أضف أو عدّل الطلبات الجانبية مع الوليمة. لكل واحدة سعر خاص.',
      addItem: 'إضافة طلب جانبي',
      noItemsYet: 'لم تُضف أي طلبات جانبية بعد',
      howToAdd: 'اضغط الزر أدناه «إضافة طلب جانبي» أو الزر في الأعلى، ثم اكتب اسم الطبق (مثل: جريش، قرصان، ادامات) والسعر، ثم «حفظ التغييرات».',
      addFirstItem: 'إضافة طلب جانبي',
      namePlaceholder: 'مثال: جريش، قرصان، ادامات',
      price: 'السعر',
      remove: 'حذف',
      save: 'حفظ التغييرات',
      saved: 'تم الحفظ',
      failedSave: 'فشل الحفظ',
    },

    servicesPage: {
      title: 'ما أقدمه للزبائن',
      subtitle: 'الخدمات أو الوجبات التي يمكن أن تقدمها. تظهر للعميل في "طلب طباخة" لاختيارها — بدون فيديو.',
      addItem: 'إضافة خدمة أو وجبة',
      noItemsYet: 'لم تُسجّل أي خدمة أو وجبة بعد',
      addFirstItem: 'أضف أول خدمة أو وجبة',
      available: 'متوفر',
      unavailable: 'غير متوفر',
      hide: 'إخفاء',
      show: 'عرض',
      edit: 'تعديل',
      delete: 'حذف',
      confirmDelete: 'هل أنت متأكد من حذف هذه الخدمة؟',
      failedUpdate: 'فشل تحديث التوفر',
      failedDelete: 'فشل الحذف',
      failedAdd: 'فشل إضافة الخدمة',
      priceOptional: 'اختياري — 0 = عرض السعر لاحقاً',
      priceMinZero: 'السعر لا يمكن أن يكون سالباً',
      priceOnRequest: 'عرض السعر لاحقاً',
    },

    // الوجبات / الخدمات التي يمكن تقديمها للزبائن (مع فيديو)
    menuPage: {
      title: 'الوجبات والخدمات',
      subtitle: 'سجّل الوجبات أو الخدمات التي تتقنها حتى يعرف طالب الخدمة ماذا يمكن طلبه. الفيديو يُضاف لاحقاً إن رغبت.',
      addItem: 'إضافة وجبة أو خدمة',
      noItemsYet: 'لم تُسجّل أي وجبات أو خدمات بعد',
      addFirstItem: 'أضف أول وجبة أو خدمة',
      video: 'فيديو',
      noImage: 'لا صورة',
      available: 'متوفر',
      unavailable: 'غير متوفر',
      hide: 'إخفاء',
      show: 'عرض',
      edit: 'تعديل',
      delete: 'حذف',
      confirmDelete: 'هل أنت متأكد من حذف هذا العنصر؟',
      failedUpdate: 'فشل تحديث التوفر',
      failedDelete: 'فشل حذف العنصر',
    },

    // نافذة إضافة/تعديل وجبة أو خدمة (منفصلة عن الفيديو)
    menuItem: {
      addTitle: 'إضافة وجبة أو خدمة',
      editTitle: 'تعديل الوجبة أو الخدمة',
      name: 'اسم الوجبة أو الخدمة',
      description: 'الوصف',
      price: 'السعر (للوجبات الجاهزة)',
      image: 'الصورة (اختياري)',
      videoOptional: 'مقطع فيديو (اختياري — يُضاف لاحقاً لعرض الطبق في الفيديو)',
      nameMin: 'الاسم حرفين على الأقل',
      priceMin: 'السعر يجب أن يكون أكبر من 0',
      placeholderName: 'مثال: دجاج مشوي',
      placeholderDesc: 'صف عنصر القائمة...',
      placeholderPrice: '0.00',
      clickUploadImage: 'انقر لرفع صورة',
      max5mb: 'الحد الأقصى 5 ميجا (JPG, PNG)',
      clickUploadVideo: 'انقر لرفع فيديو',
      max500mb: 'الحد الأقصى 500 ميجا (MP4, MOV)',
      videoUploadAfter: 'سيتم رفع الفيديو بعد إنشاء العنصر',
      signatureDish: 'طبق مميز',
      availableNow: 'متوفر الآن',
      uploading: 'جاري الرفع...',
      cancel: 'إلغاء',
      createItem: 'إنشاء العنصر',
      creating: 'جاري الإنشاء...',
      updateItem: 'تحديث العنصر',
      updating: 'جاري التحديث...',
      clickChangeImage: 'انقر لتغيير الصورة',
      currentImage: 'الحالي',
      createFailed: 'فشل إنشاء العنصر',
      updateFailed: 'فشل تحديث العنصر',
      imageMax5mb: 'حجم الصورة يجب أن يكون أقل من 5 ميجا',
      videoMax500mb: 'حجم الفيديو يجب أن يكون أقل من 500 ميجا',
      selectValidVideo: 'يرجى اختيار ملف فيديو صالح',
      addVideo: 'إضافة فيديو',
      addVideoFor: 'إضافة فيديو لـ',
      selectVideoFirst: 'اختر ملف فيديو أولاً',
      uploadVideo: 'رفع الفيديو',
      videoUploadFailed: 'فشل رفع الفيديو',
      videoRequired: 'الفيديو إجباري — اختر ملف فيديو',
      videoRequiredLabel: 'الفيديو',
      // طبخ الولائم (الطبخ الشعبي)
      addTitlePopularCooking: 'إضافة طبق وليمة',
      editTitlePopularCooking: 'تعديل طبق الوليمة',
      namePopularCooking: 'اسم طبق الوليمة',
      placeholderNamePopularCooking: 'مثال: مقلوبة، منسف، كبسة',
      placeholderDescPopularCooking: 'صف طبق الوليمة...',
      pricePopularCooking: 'السعر (لطبق الوليمة)',
    },

    // التحليلات
    analyticsPage: {
      title: 'التحليلات',
      subtitle: 'تفاصيل ومؤشرات الأداء',
      totalRevenue: 'إجمالي الإيرادات',
      totalOrders: 'إجمالي الطلبات',
      avgOrderValue: 'متوسط قيمة الطلب',
      activeOrders: 'الطلبات النشطة',
      topItems: 'أفضل العناصر',
      ordersCount: 'طلب',
      revenue: 'الإيراد',
      noData: 'لا توجد بيانات تحليلات',
    },

    // لغة
    language: 'اللغة',
    arabic: 'العربية',
    english: 'English',
  },
  en: {
    appName: 'Vendor Dashboard',
    logout: 'Logout',
    search: 'Search orders, menu items...',
    vendor: 'Vendor',

    nav: {
      dashboard: 'Dashboard',
      orders: 'Orders',
      menu: 'Dishes & Services',
      offerableServices: 'What I Offer',
      sideOrders: 'Side Orders',
      staff: 'Staff',
      analytics: 'Analytics',
      settings: 'Settings',
    },

    dashboard: {
      title: 'Dashboard',
      subtitle: 'Overview of your restaurant performance',
      totalRevenue: 'Total Revenue',
      totalOrders: 'Total Orders',
      pendingOrders: 'Pending Orders',
      avgOrderValue: 'Avg Order Value',
      preparing: 'Preparing',
      ready: 'Ready',
      performance: 'Performance',
      viewAnalytics: 'View analytics',
    },

    login: {
      title: 'Vendor Login',
      subtitle: 'Sign in to manage your restaurant',
      email: 'Email',
      password: 'Password',
      submit: 'Sign In',
      signingIn: 'Signing in...',
      registering: 'Registration Successful!',
      pendingApproval: "Your account is pending approval. You'll be notified once it's approved.",
      noAccount: "Don't have an account?",
      register: 'Register',
      invalidEmail: 'Invalid email address',
      passwordMin: 'Password must be at least 6 characters',
      loginFailed: 'Login failed. Please try again.',
    },

    register: {
      title: 'Register as service provider',
      subtitle: 'Required only: Name, Email, Password. The rest can be completed later.',
      requiredData: 'Required data',
      name: 'Name (service provider / establishment)',
      email: 'Email',
      password: 'Password',
      confirmPassword: 'Confirm password',
      phoneOptional: 'Phone (optional)',
      categoryOptional: 'Service category (optional)',
      categoryPlaceholder: '— Choose service category (optional) —',
      categoryHomeCooking: 'Home Cooking',
      categoryPopularCooking: 'Popular cooking (catering)',
      categoryPrivateEvents: 'Private events (buffet)',
      categoryGrilling: 'Grilling',
      addOptional: 'Add optional details (address, city, owner, etc.)',
      hideOptional: 'Hide optional details',
      submit: 'Register',
      submitting: 'Registering...',
      haveAccount: 'Already have an account?',
      signIn: 'Sign In',
      registerFailed: 'Registration failed. Please try again.',
      tradeName: 'Trade name',
      establishmentType: 'Establishment type',
      description: 'Description',
      address: 'Address',
      city: 'City',
      ownerName: 'Owner name',
      ownerPhone: 'Owner phone',
      optionalNote: 'You can complete the rest (commercial registration, website, bank, etc.) later from the dashboard.',
      typePremiumCasual: 'Premium Casual',
      typeFineDining: 'Fine Dining',
      typeFastFood: 'Fast Food',
      typeCafe: 'Cafe',
      typeBakery: 'Bakery',
      typeFoodTruck: 'Food Truck',
      nameMin: 'Name must be at least 2 characters',
      invalidEmail: 'Invalid email address',
      passwordMin: 'Password must be at least 8 characters',
      passwordPattern: 'Password must include lowercase, uppercase and number',
      passwordMismatch: 'Passwords do not match',
      invalidUrl: 'Invalid URL',
      popularCookingAddOnsTitle: 'Extra services (Jareesh, Qursan, Adamat…)',
      popularCookingAddOnsHint: 'Add side dishes you offer with the feast; each has its own price. Shown to customers to request if they want.',
      addAddOn: 'Add side service/dish',
      addOnName: 'Service name (e.g. Jareesh, Qursan, Adamat)',
      addOnPrice: 'Price',
      removeAddOn: 'Remove',
    },

    sideOrdersPage: {
      title: 'Side Orders',
      subtitle: 'Jareesh, Qursan, Adamat, etc. — Add or edit side orders with the feast. Each has its own price.',
      addItem: 'Add side order',
      noItemsYet: 'No side orders added yet',
      howToAdd: 'Click the "Add side order" button below or at the top, then enter the dish name (e.g. Jareesh, Qursan, Adamat) and price, then "Save changes".',
      addFirstItem: 'Add side order',
      namePlaceholder: 'e.g. Jareesh, Qursan, Adamat',
      price: 'Price',
      remove: 'Remove',
      save: 'Save changes',
      saved: 'Saved',
      failedSave: 'Failed to save',
    },

    servicesPage: {
      title: 'What I Offer',
      subtitle: 'Services or dishes you can provide. Shown to customers in "Request a chef" to select — no video.',
      addItem: 'Add Service or Dish',
      noItemsYet: 'No services or dishes registered yet',
      addFirstItem: 'Add Your First Service or Dish',
      available: 'Available',
      unavailable: 'Unavailable',
      hide: 'Hide',
      show: 'Show',
      edit: 'Edit',
      delete: 'Delete',
      confirmDelete: 'Are you sure you want to delete this service?',
      failedUpdate: 'Failed to update availability',
      failedDelete: 'Failed to delete',
      failedAdd: 'Failed to add service',
      priceOptional: 'optional — 0 = price on request',
      priceMinZero: 'Price cannot be negative',
      priceOnRequest: 'Price on request',
    },

    menuPage: {
      title: 'Dishes & Services',
      subtitle: 'List the dishes or services you offer so customers know what they can request. You can add video later if you like.',
      addItem: 'Add Dish or Service',
      noItemsYet: 'No dishes or services registered yet',
      addFirstItem: 'Add Your First Dish or Service',
      video: 'Video',
      noImage: 'No Image',
      available: 'Available',
      unavailable: 'Unavailable',
      hide: 'Hide',
      show: 'Show',
      edit: 'Edit',
      delete: 'Delete',
      confirmDelete: 'Are you sure you want to delete this item?',
      failedUpdate: 'Failed to update availability',
      failedDelete: 'Failed to delete item',
    },

    menuItem: {
      addTitle: 'Add Dish or Service',
      editTitle: 'Edit Dish or Service',
      name: 'Dish or Service Name',
      description: 'Description',
      price: 'Price (for ready meals)',
      image: 'Image (optional)',
      videoOptional: 'Video (optional — add later to show in feed)',
      nameMin: 'Name must be at least 2 characters',
      priceMin: 'Price must be greater than 0',
      placeholderName: 'e.g., Grilled Chicken',
      placeholderDesc: 'Describe your menu item...',
      placeholderPrice: '0.00',
      clickUploadImage: 'Click to upload image',
      max5mb: 'Max 5MB (JPG, PNG)',
      clickUploadVideo: 'Click to upload video',
      max500mb: 'Max 500MB (MP4, MOV)',
      videoUploadAfter: 'Video will be uploaded after menu item is created',
      signatureDish: 'Signature Dish',
      availableNow: 'Available Now',
      uploading: 'Uploading...',
      cancel: 'Cancel',
      createItem: 'Create Item',
      creating: 'Creating...',
      updateItem: 'Update Item',
      updating: 'Updating...',
      clickChangeImage: 'Click to change image',
      currentImage: 'Current',
      createFailed: 'Failed to create menu item',
      updateFailed: 'Failed to update menu item',
      imageMax5mb: 'Image size must be less than 5MB',
      videoMax500mb: 'Video size must be less than 500MB',
      selectValidVideo: 'Please select a valid video file',
      addVideo: 'Add Video',
      addVideoFor: 'Add video for',
      selectVideoFirst: 'Select a video file first',
      uploadVideo: 'Upload Video',
      videoUploadFailed: 'Video upload failed',
      videoRequired: 'Video is required — select a video file',
      videoRequiredLabel: 'Video',
      addTitlePopularCooking: 'Add Banquet Dish',
      editTitlePopularCooking: 'Edit Banquet Dish',
      namePopularCooking: 'Banquet Dish Name',
      placeholderNamePopularCooking: 'e.g. Maqluba, Mansaf, Kabsa',
      placeholderDescPopularCooking: 'Describe the banquet dish...',
      pricePopularCooking: 'Price (for banquet dish)',
    },

    analyticsPage: {
      title: 'Analytics',
      subtitle: 'Detailed insights and performance metrics',
      totalRevenue: 'Total Revenue',
      totalOrders: 'Total Orders',
      avgOrderValue: 'Avg Order Value',
      activeOrders: 'Active Orders',
      topItems: 'Top Items',
      ordersCount: 'orders',
      revenue: 'Revenue',
      noData: 'No analytics data available',
    },

    language: 'Language',
    arabic: 'العربية',
    english: 'English',
  },
} as const

export type TranslationKey = keyof typeof translations.ar
export type NestedKey = keyof typeof translations.ar extends infer K
  ? K extends string
    ? keyof (typeof translations.ar)[K] extends string
      ? `${K}.${keyof (typeof translations.ar)[K] & string}`
      : K
    : never
  : never

function getNested(obj: Record<string, unknown>, path: string): string | undefined {
  const keys = path.split('.')
  let current: unknown = obj
  for (const key of keys) {
    if (current == null || typeof current !== 'object') return undefined
    current = (current as Record<string, unknown>)[key]
  }
  return typeof current === 'string' ? current : undefined
}

export function t(lang: Lang, key: string): string {
  const value = getNested(translations[lang] as Record<string, unknown>, key)
  return value ?? key
}
