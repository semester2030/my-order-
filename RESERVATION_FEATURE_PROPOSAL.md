# مقترح: حجز الطاولات (Reservations) للمطاعم الفخمة

## هل الفكرة مفيدة؟

**نعم، ومتناسقة مع استهدافكم.**

- المطاعم الفخمة تعتمد على **تجربة داخل المطعم** (داين إن) أكثر من التوصيل.
- كثير من الزبائن يريدون **حجز مسبق** (عدد الأشخاص، الوقت، أحياناً الطاولة أو الطلب الخاص).
- دمج الحجز مع **الفيديو والتصفح** يعزز القرار: يشوف الفيديو → يقرر يروح → يحجز من نفس التطبيق.
- يزيد **قيمة المنصة** للمطعم (قناتان: توصيل + حجز) ويحسّن تجربة العميل.

---

## الرأي في الاقتراح

- **منطقي جداً** أن يكون في التطبيق خيار "احجز" بجانب "اطلب": نفس المطعم، تجربتان (توصيل vs زيارة).
- الأفضل أن يكون الحجز **واضحاً ومنفصلاً** عن الطلب (توصيل) حتى لا يختلط على المستخدم.
- "فيو ريسترنت" (وضع المطعم / تجربة داخل المطعم) فكرة مناسبة لتجميع: حجز الطاولة + عدد الأشخاص + الوقت + ملاحظات، دون المساس بتجربة "اطلب للتوصيل" الحالية.

---

## الطريقة الأفضل (بدون التأثير على تجربة المستخدم الحالية)

### المبدأ: **خياران واضحان، نفس صفحة المطعم**

1. **في صفحة المطعم (Vendor Screen)** يبقى كل شيء كما هو (قائمة، عربة، طلب توصيل).
2. نضيف **تبويبين أو زرين واضحين** في أعلى الصفحة (أو تحت الهيدر):
   - **اطلب للتوصيل** (التدفق الحالي: قائمة → عربة → عنوان → دفع).
   - **احجز في المطعم** (تدفق جديد: عدد أشخاص → تاريخ/وقت → طاولة أو نوع جلوس إن وُجد → تأكيد حجز).
3. المستخدم يختار مرة واحدة ماذا يريد: **طلب** أو **حجز**. لا نخلط بينهما في نفس الرحلة.
4. في الفيديو (Feed): بجانب "عرض المطعم" و "أضف للسلة" يمكن زر ثالث: **"احجز طاولة"** يفتح نفس صفحة المطعم في وضع الحجز (أو يفتح مباشرة نموذج الحجز إن أردتم اختصار خطوة).

بهذا الشكل:
- تجربة **الطلب للتوصيل** لا تتغير (نفس الشاشات، نفس العربة، نفس الـ checkout).
- تجربة **الحجز** تأتي كـ "فيو ريسترنت" واضح: مخصصة لمن يريد زيارة المطعم وليس التوصيل.

---

## تنفيذ تقني (مختصر)

### 1. Backend

- **جدول جديد (مثلاً):** `reservations`
  - الحقول الأساسية: `id`, `vendor_id`, `customer_id`, `scheduled_at` (تاريخ + وقت), `party_size` (عدد الأشخاص), `status` (pending / confirmed / cancelled / completed), `table_id` أو `table_label` (اختياري), `notes`, `created_at`, `updated_at`.
- **Endpoints مقترحة:**
  - `POST /api/reservations` — إنشاء حجز (عميل مسجل).
  - `GET /api/reservations` — قائمة حجوزات العميل.
  - `GET /api/reservors/:vendorId/availability` أو `GET /api/reservations/slots` — أوقات متاحة للحجز (حسب سياسة المطعم: كل نصف ساعة، ساعة، إلخ).
- المطعم (Vendor) قد يحتاج إعدادات: هل الحجز مفعّل، عدد الطاولات أو السعات، أوقات العمل، مدة الجلوس التقريبية. يمكن البدء بإعدادات بسيطة (عدد أشخاص + وقت فقط) ثم التوسع.

### 2. تطبيق العميل (Customer App)

- **صفحة المطعم (Vendor Screen):**
  - إضافة **تبويبين:** "اطلب" | "احجز" (أو زرين كبيرين)، بحيث:
    - **اطلب:** الوضع الحالي (قائمة + عربة + checkout توصيل).
    - **احجز:** عرض نموذج حجز (عدد أشخاص، اختيار تاريخ/وقت، ملاحظات، زر "تأكيد الحجز").
- **شاشة تفاصيل الحجز:** بعد التأكيد عرض ملخص الحجز (المطعم، التاريخ، الوقت، عدد الأشخاص) مع إمكانية إلغاء الحجز إن كان مسموحاً.
- **قائمة "حجوزاتي":** في القائمة الجانبية أو الـ Profile: قسم "حجوزاتي" يعرض الحجوزات القادمة والماضية ويفتح تفاصيل كل حجز.
- **من الفيديو (Feed):** زر "احجز طاولة" ينتقل لصفحة المطعم مع فتح وضع الحجز مباشرة (أو ينتقل لشاشة الحجز إذا صممتمها منفصلة).

لا نغيّر مسار العربة أو شاشة الدفع الحالية؛ الحجز له مسار مستقل (نموذج حجز → تأكيد → حجوزاتي).

### 3. لوحة المطعم (Vendor Web)

- قسم **"الحجوزات"**: قائمة حجوزات اليوم/الأسبوع مع (التاريخ، الوقت، عدد الأشخاص، اسم العميل، الحالة).
- إمكانية **تأكيد / رفض / إلغاء** الحجز.
- (لاحقاً) إعدادات: تفعيل/إيقاف الحجز، أوقات العمل، السعات، إلخ.

---

## ملخص الفوائد

| الجانب | الفائدة |
|--------|---------|
| **المستخدم** | حجز من التطبيق بعد مشاهدة الفيديو، بدون اتصال هاتفي، وتجربة واضحة لا تختلط مع الطلب. |
| **المطعم الفاخم** | قناة إضافية (حجز) بجانب التوصيل، تقليل الـ no-show إن أضفتم تأكيد (SMS/إشعار). |
| **المنصة** | تمييز عن تطبيقات توصيل فقط، وربط الفيديو بالحجز يعزز التحويل. |

---

## خطوات تنفيذ مقترحة (بدون المساس بالتجربة الحالية)

1. **Backend:** إنشاء جدول `reservations` وواجهات إنشاء حجز + قائمة حجوزات العميل + (اختياري) فتحات زمنية للمطعم.
2. **Customer App:** في صفحة المطعم إضافة وضع "احجز" (تبويب/زر) + نموذج حجز + شاشة تفاصيل حجز + "حجوزاتي" في القائمة/البروفايل.
3. **Vendor Web:** صفحة/قسم حجوزات المطعم مع إدارة (عرض، تأكيد، رفض، إلغاء).
4. لاحقاً: إشعارات (تذكير قبل الموعد)، وتجربة "فيو ريسترنت" أغنى (نوع الطاولة، قائمة طعام مسبقة للحجز، إلخ).

بهذا الشكل تحققون فكرة "حجز الوجبات وعدد الأشخاص والطاولة عبر التطبيق" في "فيو ريسترنت" دون أن تتأثر تجربة المستخدم الحالية (الطلب للتوصيل).
