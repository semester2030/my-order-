# ما نُفّذ من المخطط الجديد وما تبقى (فرونت اند + باك اند)

## ١. ما نُفّذ بالضبط

### ١.١ تطبيق العميل (Frontend — Customer App)

| البند | الحالة | التفصيل |
|--------|--------|---------|
| **شاشة الأيقونات الأربع** | ✅ منفذ | شاشة واحدة `categories_screen.dart`: الطبخ المنزلي، الطبخ الشعبي، المناسبات الخاصة، الشوي. |
| **Route شاشة الأيقونات** | ✅ منفذ | `RouteNames.categories` = `/categories`؛ route في `app_router` لـ `CategoriesScreen`. |
| **الدخول من أيقونة → Feed بالفئة** | ✅ منفذ | الضغط على أيقونة يفتح `/feed?category=home_cooking` (أو القيم الأخرى). نفس `FeedScreen` مع معلمة `category`. |
| **سلسلة Feed + الفئة** | ✅ منفذ | `feed_remote_ds`, `feed_repo`, `feed_repo_impl`, `feed_notifier` تقبل `category` وتمرّرها للـ API؛ `FeedScreen(category)` يستدعي `setCategory(category)` ثم تحميل الـ feed. |
| **التوجيه بعد الدخول → categories** | ✅ منفذ | `navigation_helper` و `guards` يوجّهان إلى `RouteNames.categories` بدلاً من feed. |
| **الـ Bottom Nav** | ✅ منفذ | الرابط الأول = "اكتشف" → `RouteNames.categories`؛ التعرف على مسار feed و categories كـ index 0. |
| **توجيه العودة للرئيسية → categories** | ✅ منفذ | في `select_address_map_screen`, `cart_screen`, `orders_screen`, `order_completed_screen`, `order_confirmation_screen`: استبدال التوجيه إلى feed بالتوجيه إلى `RouteNames.categories`. |
| **ثوابت الفئات** | ✅ منفذ | ملف واحد `provider_categories.dart`: القيم والتسميات العربية للفئات الأربع. |
| **الثيم الموحد** | ✅ منفذ | شاشة الأيقونات تستخدم `design_system`: AppColors, TextStyles, Insets, Gaps, AppRadius, IconSizes. |

### ١.٢ الباك اند (Backend)

| البند | الحالة | التفصيل |
|--------|--------|---------|
| **عمود provider_category في Vendor** | ✅ منفذ | إضافة حقل `providerCategory: string \| null` في كيان `Vendor` (nullable). |
| **فلتر Feed حسب الفئة** | ✅ منفذ | في `GetFeedDto` إضافة `category` (اختياري)؛ في `FeedService.getFeed()` فلترة الـ vendors حسب `providerCategory` عند وجود `category`. |

---

## ٢. ما تبقى (لم يُنفّذ بعد)

### ٢.١ فرونت اند (تطبيق العميل)

| البند | الوصف |
|--------|--------|
| **فلاتر خاصة بكل فئة داخل الـ Feed** | حسب المواصفات: كل فئة لها فلاتر خاصة (مثلاً الطبخ الشعبي: نوع الذبيحة، عدد الأشخاص، في المنزل أو توصيل؛ المناسبات الخاصة: نوع المناسبة، عدد الضيوف، تاريخ، نطاق السعر). حالياً الـ Feed يعرض المحتوى حسب الفئة فقط بدون واجهة فلاتر إضافية داخل الشاشة. |
| **عرض بيانات مقدم الخدمة حسب الفئة** | المواصفات تذكر "جميع البيانات الخاصة بكل مقدم" — العرض الحالي هو نفس بطاقات الفيديو/القائمة؛ إن رغبت في حقول أو تنسيق مختلف لكل فئة (مثلاً عروض ذبايح، باقات بوفيه) فيحتاج توسيع صفحة المقدم أو نماذج بيانات. |

### ٢.٢ باك اند (Backend)

| البند | الوصف |
|--------|--------|
| **تسجيل المقدم (Vendor) مع الفئة** | الـ DTO الحالي `RegisterVendorDto` **لا يحتوي** حقل `providerCategory`. المطلوب: إضافة حقل اختياري `providerCategory` (أو `provider_category`) في `RegisterVendorDto`، وفي `VendorsService` (أو مكان إنشاء المقدم) حفظ قيمته في `Vendor.providerCategory` عند التسجيل. |
| **API قائمة المقدمين: فلتر حسب الفئة** | إن كان هناك endpoint لقائمة المقدمين (للأدمن أو للعميل) إضافة query param اختياري مثل `category` وفلترة النتائج حسب `provider_category`. |

### ٢.٣ Vendor Web (موقع تسجيل مقدمي الخدمة)

| البند | الوصف |
|--------|--------|
| **حقل فئة مقدم الخدمة في نموذج التسجيل** | إضافة حقل في صفحة التسجيل (اختيار واحد أو أكثر): الطبخ المنزلي، الطبخ الشعبي، المناسبات الخاصة، الشوي. إرسال القيمة المرتبطة (مثلاً `providerCategory`) مع طلب التسجيل للـ Backend. |

### ٢.٤ الأدمن بانل (Admin Panel)

| البند | الوصف |
|--------|--------|
| **فلتر قائمة المقدمين حسب الفئة** | في صفحة قائمة المقدمين (Vendors) إضافة فلتر (dropdown أو tabs) حسب فئة مقدم الخدمة (الطبخ المنزلي، الشعبي، المناسبات الخاصة، الشوي). يعتمد على أن الـ API يرجع `provider_category` ويدعم فلترة حسبه. |

---

## ٣. ملخص سريع

| الجهة | نُفّذ | متبقٍ |
|--------|--------|--------|
| **تطبيق العميل** | شاشة الأيقونات الأربع، التوجيه إلى categories، Feed بمعلمة الفئة، ثوابت الفئات، الثيم الموحد | فلاتر خاصة بكل فئة داخل الـ Feed (اختياري)، وتوسيع عرض بيانات المقدم حسب الفئة إن رغبت |
| **الباك اند** | عمود `provider_category` في Vendor، فلتر Feed حسب `category` | قبول وحفظ `providerCategory` في تسجيل المقدم؛ دعم فلتر الفئة في أي API آخر للمقدمين |
| **Vendor Web** | — | حقل فئة مقدم الخدمة في نموذج التسجيل وإرساله للـ API |
| **الأدمن بانل** | — | فلتر قائمة المقدمين حسب الفئة |

بهذا يكون ما نُفّذ بالضبط وما تبقى واضحاً لكل من الفرونت اند والباك اند وموقع التسجيل والأدمن.
