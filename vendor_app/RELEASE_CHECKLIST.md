# قائمة التحقق للنشر — المرحلة ٢٠

قائمة تحقق قبل رفع بناء (build) للتطبيق للنشر أو للتوزيع الداخلي.

---

## ١. الأمان

- [x] **تخزين التوكن:** التوكنات (accessToken، refreshToken) تُحفظ في Flutter Secure Storage فقط (Android: encrypted shared preferences، iOS: Keychain).
- [x] **السجلات (Logs):** لا يُسجّل body الطلبات/الاستجابات ولا رؤوس Authorization في الـ logs (راجع `LoggingInterceptor`).
- [ ] مراجعة عدم طباعة كلمات مرور أو توكنات في أي مكان (مثلاً في معالجة الأخطاء).

---

## ٢. النصوص والترجمة

- [x] التطبيق يدعم العربية والإنجليزية عبر `AppLocalizations`.
- [x] النصوص الرئيسية (لوحة التحكم، الطلبات، القائمة، الإعدادات، رسائل الخطأ، إلخ) مُعرّفة في `strings_ar.dart` و `strings_en.dart`.
- [ ] مراجعة أي نصوص ثابتة متبقية في الشاشات ونقلها إلى l10n عند الحاجة.

---

## ٣. الإصدار

- [x] `version` و `buildNumber` في `pubspec.yaml` محدّثة (مثلاً `1.0.0+2`).
- [ ] عند كل بناء للنشر: زيادة `buildNumber` (الرقم بعد `+`) أو تحديث `version` حسب سياسة الإصدار.

---

## ٤. قائمة التحقق الوظيفية

- [ ] **لا مطاعم:** التأكد من أن التطبيق موجّه لمقدمي الخدمة (طبخ منزلي، ذبايح، مناسبات، شوي) وليس لمطاعم.
- [ ] **الفئات واضحة:** فئات مقدم الخدمة (مثل popular_cooking، home_cooking، private_events، grilling) معروضة بشكل صحيح.
- [ ] **شاشات الموافقة:** شاشات Pending و Rejected (حسب `registration_status` من البروفايل) تعمل وتُظهر رسالة الرفض إن وُجدت.
- [ ] **الربط مع الباك اند:** تسجيل الدخول، البروفايل، الطلبات، الوجبات، الخدمات، الطلبات الجانبية، الموظفون، التحليلات، ورفع الوسائط تعمل مع API الحقيقي.

---

## ٥. اختبار المحاكي النهائي (رابع اختبار محاكي)

مسار كامل من البداية للنهاية:

1. فتح التطبيق → Splash.
2. تسجيل الدخول (أو إنشاء حساب).
3. بعد الموافقة: الانتقال إلى Shell (لوحة التحكم).
4. التنقل: الطلبات، تفاصيل طلب، القائمة، إضافة/تعديل وجبة، الخدمات، الطلبات الجانبية، الموظفون، التحليلات.
5. الإعدادات: تعديل البروفايل، تغيير كلمة المرور، اللغة، تسجيل الخروج.
6. التأكد من عدم ظهور أخطاء أو تعليق، وأن البيانات تُحمّل وتُحدَّث من الباك اند.

---

## ٦. التحليل والبناء

- [ ] تشغيل `flutter analyze`: بدون أخطاء أو تحذيرات (أو استثناءات موثقة في `ANALYZE_EXCEPTIONS.md`).
- [ ] تشغيل `flutter build apk` أو `flutter build ios` حسب المنصة المطلوبة.
- [ ] التحقق من أن البناء ينجح بدون أخطاء.

---

**معيار النجاح للمرحلة ٢٠:**  
التطبيق يعمل من البداية للنهاية على المحاكي مع الباك اند، ولا توجد أخطاء أو تحذيرات تحليل، وجاهز لرفع بناء للنشر.
