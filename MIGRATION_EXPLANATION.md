# ุดุฑุญ ุฃูุฑ Migration Generate

## ๐ฏ ูุง ูู ุงูุฃูุฑ ุจุงูุถุจุทุ

### ุงูุฃูุฑ ุงููููุฐ:
```bash
npm run migration:generate -- src/migrations/InitialMigration
```

### ูุง ููุนูู:
1. **ููุฑุฃ ุฌููุน Entities** ูู ุงูููุฏ (User, Address, Vendor, MenuItem, etc.)
2. **ูุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช** PostgreSQL (ูุญุชุงุฌ ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ)
3. **ููุงุฑู** ุจูู Entities ูู ุงูููุฏ ูุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. **ููุดุฆ ููู Migration** ูุญุชูู ุนูู SQL commands ูุฅูุดุงุก/ุชุนุฏูู ุงูุฌุฏุงูู

### ุงูููู ุงูุฐู ุณูููุดุฃ:
```
src/migrations/InitialMigration1234567890.ts
```

ูุฐุง ุงูููู ูุญุชูู ุนูู:
- `up()` - ูุฅูุดุงุก ุงูุฌุฏุงูู
- `down()` - ูุญุฐู ุงูุฌุฏุงูู (ููุชุฑุงุฌุน)

---

## โฑ๏ธ ูู ูุฐุง ุงูุฃูุฑ ูุทููุ

### ุงูููุช ุงูุทุจูุนู:
- **2-10 ุซูุงูู** ูู ุงูุญุงูุฉ ุงูุนุงุฏูุฉ

### ูุชู ูุฏ ูุทููุ

1. **ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ูุชุตูุฉ** โ
   - ุฅุฐุง PostgreSQL ุบูุฑ ูุดุบู
   - ุฅุฐุง ุจูุงูุงุช ุงูุงุชุตุงู ุฎุงุทุฆุฉ ูู `.env`
   - **ุงูููุช:** ูุฏ ูุชููู ุฃู ูุนุทู ุฎุทุฃ

2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฑุบุฉ** โ
   - ุฅุฐุง ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ ููู ูุงุฑุบุฉ
   - **ุงูููุช:** 2-5 ุซูุงูู (ุณุฑูุน)

3. **ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุชูู ุนูู ุฌุฏุงูู** โ๏ธ
   - ุฅุฐุง ููุงู ุฌุฏุงูู ููุฌูุฏุฉ
   - **ุงูููุช:** 5-15 ุซุงููุฉ (ุฃุทูู ููููุงู)

---

## ๐ ูู ุงูุตูุฑุฉ:

ูู ุงูุตูุฑุฉ ูุจุฏู ุฃู:
- โ ุงูุฃูุฑ ุจุฏุฃ ุงูุชูููุฐ
- โณ ูู ุงูุชุธุงุฑ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ๏ธ ูุฏ ูููู PostgreSQL ุบูุฑ ูุดุบู

---

## โ ุงูุญููู:

### 1. ุงูุชุญูู ูู PostgreSQL:
```bash
# ุงูุชุญูู ูู ุญุงูุฉ PostgreSQL
brew services list | grep postgresql

# ุฃู
pg_isready
```

### 2. ุชุดุบูู PostgreSQL:
```bash
# ุฅุฐุง ูุงู ูุซุจุช ุนุจุฑ Homebrew
brew services start postgresql@14

# ุฃู
pg_ctl -D /usr/local/var/postgres start
```

### 3. ุงูุชุญูู ูู `.env`:
```bash
# ุชุฃูุฏ ูู ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
cat backend/.env | grep DATABASE
```

### 4. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
createdb customer_app

# ุฃู
psql -U postgres -c "CREATE DATABASE customer_app;"
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุตุญูุญุฉ:

### ุงูุฎุทูุฉ 1: ุชุดุบูู PostgreSQL
```bash
brew services start postgresql@14
```

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
createdb customer_app
```

### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ `.env`
```env
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your_password
DATABASE_NAME=customer_app
```

### ุงูุฎุทูุฉ 4: ุฅูุดุงุก Migration
```bash
cd backend
npm run migration:generate -- src/migrations/InitialMigration
```

### ุงูุฎุทูุฉ 5: ุชุดุบูู Migration
```bash
npm run migration:run
```

---

## ๐ ุงูุฎูุงุตุฉ:

| ุงูุณุคุงู | ุงูุฌูุงุจ |
|--------|--------|
| **ูุง ูู ุงูุฃูุฑุ** | ุฅูุดุงุก ููู Migration ูุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| **ูู ูุทููุ** | ูุงุ ุนุงุฏุฉ 2-10 ุซูุงูู |
| **ูุชู ูุทููุ** | ุฅุฐุง PostgreSQL ุบูุฑ ูุดุบู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ |
| **ุงูุญูุ** | ุชุดุบูู PostgreSQL ูุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃููุงู |

---

## โ๏ธ ููุงุญุธุฉ ูููุฉ:

**ุงูุฃูุฑ ูุญุชุงุฌ:**
1. โ PostgreSQL ูุดุบู
2. โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ
3. โ ุจูุงูุงุช ุงูุงุชุตุงู ุตุญูุญุฉ ูู `.env`

**ุจุฏูู ูุฐู ุงููุชุทูุจุงุชุ ุงูุฃูุฑ ูุฏ:**
- ูุชููู
- ูุนุทู ุฎุทุฃ
- ูุณุชุบุฑู ููุชุงู ุทูููุงู
